#
# pkgdefs/Makefile
#
# Copyright (c) 1999 by Sun Microsystems, Inc.
# All rights reserved.
#

#ident	"@(#)Makefile	1.129	00/09/14 SMI"

include $(SRC)/Makefile.master

sparcv9_SUBDIRS= \
	SUNWarcx \
	SUNWauddx \
	SUNWbzipx \
	SUNWcarx.u \
	SUNWcg6x.u \
	SUNWcpcux \
	SUNWcpcx.u \
	SUNWcprx.u \
	SUNWcsxu \
	SUNWcslx \
	SUNWcstlx \
	SUNWpstlx.u \
	SUNWdplx \
	SUNWesxu \
	SUNWifpx \
	SUNWipcx \
	SUNWkvmx.u \
	SUNWlocx \
	SUNWllcx \
	SUNWncarx \
	SUNWpmux \
	SUNWssadx \
	SUNWhmdx \
	SUNWpdx \
	SUNWtnfcx \
	SUNWtoox \
	SUNWvolux \
	SUNWxcu4x \
	SUNWxwdvx \
	SUNWfnsx \
	SUNWfnx5x \
	SUNWgsdhx \
	SUNWgssx \
	SUNWgsskx \
	SUNWrsgx \
	SUNWbtoox \
	SUNWpcmcx \
	SUNWluxlx \
	SUNWluxdx.u \
	SUNWpppkx \
	SUNWscpux \
	SUNWsadmx \
	SUNWsasnx \
	SUNWusbx \
	SUNWocfx \
	SUNWjcomx \
	SUNWpamsx \
	SUNWslpx \
	SUNWudfrx \
	SUNWfctlx \
	SUNWfcpx \
	SUNWusocx \
	SUNWmdbx \
	SUNWucbtx \
	SUNWzlibx

sparc_SUBDIRS= \
	SUNWauda  \
	SUNWbcp  \
	SUNWcar.d  \
	SUNWcar.m  \
	SUNWcar.u  \
	SUNWcg6.d  \
	SUNWcg6.m  \
	SUNWcg6.u  \
	SUNWcg6h  \
	SUNWcpc.u \
	SUNWpstl.u \
	SUNWcvc.u  \
	SUNWcvcr.u \
	SUNWcvcx.u \
	SUNWdfb.d  \
	SUNWdfb.m  \
	SUNWdfb.u  \
	SUNWdrr.u \
	SUNWdrrx.u \
	SUNWidn.u \
	SUNWidnx.u \
	SUNWifp  \
	SUNWifph \
	SUNWkvm.c  \
	SUNWkvm.d  \
	SUNWkvm.m  \
	SUNWkvm.u  \
	SUNWluxl \
	SUNWluxd.d \
	SUNWluxd.u \
	SUNWluxop \
	SUNWses \
	SUNWsesx \
	SUNWssad  \
	SUNWssaop  \
	SUNWsxr.m  \
	SUNWhmd    \
	SUNWhmdu   \
	SUNWpd    \
	SUNWpdu	  \
	SUNWcpr.m \
	SUNWcpr.u \
	SUNWocf \
	SUNWocfh \
	SUNWocfr \
	SUNWscmsc \
	SUNWjib \
	SUNWjcom \
	SUNWpamsc \
	SUNWvygdr.m \
	SUNWuxflr.u \
	SUNWuxflu.u \
	SUNWuxfl1.u \
	SUNWuxfl2.u \
	SUNWuxfl4.u \
	SUNWuxfle.u \
	SUNWfctl \
	SUNWfcp \
	SUNWusoc

sparc_XMODS= \
	SUNWscmos

i386_SUBDIRS= \
	SUNWcar.i  \
	SUNWcoff  \
	SUNWcpc.i \
	SUNWdfb.i  \
	SUNWkvm.i  \
	SUNWos86r  \
	SUNWos86u  \
	SUNWpsdcr  \
	SUNWpsdir  \
	SUNWpsh   \
	SUNWs53

i386_XMODS=

COMMON_SUBDIRS= \
	SUNWaccr  \
	SUNWaccu  \
	SUNWapppr  \
	SUNWapppu  \
	SUNWapchd \
	SUNWapchr \
	SUNWapchu \
	SUNWapchS \
	SUNWaudd  \
	SUNWaudh  \
	SUNWatfsr  \
	SUNWatfsu  \
	SUNWarc  \
	SUNWast  \
	SUNWbash \
	SUNWbashS \
	SUNWbnur  \
	SUNWbnuu  \
	SUNWbtool  \
	SUNWbzip \
	SUNWbzipS \
	SUNWcpcu \
	SUNWcsd  \
	SUNWcsr  \
	SUNWcsu  \
	SUNWcsl  \
	SUNWcstl \
	SUNWdfbh  \
	SUNWdhcm  \
	SUNWdhcsr  \
	SUNWdhcsu  \
	SUNWdoc  \
	SUNWdpl  \
	SUNWesu  \
	SUNWfac  \
	SUNWfns  \
	SUNWfnsx5  \
	SUNWftpr  \
	SUNWftpu  \
	SUNWgpch \
	SUNWgpchS \
	SUNWgssdh  \
	SUNWgssc  \
	SUNWgss	\
	SUNWgssk \
	SUNWgzip \
	SUNWgzipS \
	SUNWhea  \
	SUNWipc  \
	SUNWless \
	SUNWlessS \
	SUNWllc \
	SUNWllcr\
	SUNWkey  \
	SUNWloc  \
	SUNWlldap  \
	SUNWmdb \
	SUNWmdbdm \
	SUNWmibii \
	SUNWmkcd \
	SUNWmkcdS \
	SUNWncar \
	SUNWncau \
	SUNWnisr  \
	SUNWnisu  \
	SUNWntpr  \
	SUNWntpu  \
	SUNWosdem \
	SUNWypr \
	SUNWypu \
	SUNWpcelx \
	SUNWpcmci  \
	SUNWpcmcu  \
	SUNWpcmem \
	SUNWpcr	\
	SUNWpcser \
	SUNWpcu	\
	SUNWpl5p \
	SUNWpl5u \
	SUNWppm \
	SUNWpppk  \
	SUNWpsdpr \
	SUNWpsf	\
	SUNWpmu \
	SUNWpsr	\
	SUNWpsu	\
	SUNWrpm \
	SUNWrsg \
	SUNWrsgk \
	SUNWsacom \
	SUNWsadmi \
	SUNWsasnm \
	SUNWscpr  \
	SUNWscpu  \
	SUNWscplp  \
	SUNWslpr \
	SUNWslpu \
	SUNWsndmr  \
	SUNWsndmu  \
	SUNWsra  \
	SUNWsrh  \
	SUNWsutl  \
	SUNWtcsh \
	SUNWtcshS \
	SUNWter  \
	SUNWtnfc  \
	SUNWtnfd  \
	SUNWtoo  \
	SUNWusb \
	SUNWusbu \
	SUNWvolr  \
	SUNWvolu  \
	SUNWxcu4  \
	SUNWxwdv \
	SUNWpmr \
	SUNWudf \
	SUNWudfr \
	SUNWucbt \
	SUNWzip \
	SUNWzipS \
	SUNWzlib \
	SUNWzlibS \
	SUNWzsh \
	SUNWzshS

$(BUILD64)SUBDIRS64=$($(MACH64)_SUBDIRS)

SUBDIRS= $($(MACH)_SUBDIRS) $(COMMON_SUBDIRS) $(SUBDIRS64)

XMODS32= \
	SUNWcry \
	SUNWcryr \
	SUNWk5pu  \
	SUNWk5pk  \
	SUNWstatl \
	SUNWamir \
	SUNWami \
	SUNWamid \
	SUNWsvvs

$(BUILD64)XMODS64= \
	SUNWcry64 \
	SUNWcryrx \
	SUNWamix \
	SUNWamidx \
	SUNWk5pux \
	SUNWk5pkx \
	SUNWsvvsx

XMODS= $($(MACH)_XMODS) $(XMODS32) $(XMODS64)


all :=		TARGET= all
install :=	TARGET= install
install_h :=	TARGET= install_h
clean :=	TARGET= clean
clobber :=	TARGET= clobber

%: %.ksh
	$(RM) $@
	cp $< $@
	chmod +x $@

.KEEP_STATE:

.PARALLEL: $(SUBDIRS) $(XMODS)

all install: awk_pkginfo $(SUBDIRS) $(XMODS)

clean clobber: $(SUBDIRS) $(XMODS)
	$(RM) awk_pkginfo bld_awk_pkginfo

$(SUBDIRS) $(XMODS):       FRC
	@if [ -f $@/Makefile  ]; then \
		cd $@; pwd; $(MAKE) $(TARGET); \
	else \
		true; \
	fi

awk_pkginfo: bld_awk_pkginfo
	./bld_awk_pkginfo -m $(MACH) -p "$(RELEASE)/$(VERSION)" -o $@

FRC:

